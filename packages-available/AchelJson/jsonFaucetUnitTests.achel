# Unit tests for AchelJson. ~ hidden,unitTest,json

defineTest AchelJsonFaucet - Internal - to json,
	failTest incomplete

defineTest AchelJsonFaucet - Internal - to var,
	setNested ["Local","jsonTestSrc","0","{\"A\",\"1\",\"B\":\"2\",\"mr nul\":\"0\"}"]
	retrieveResults Local,jsonTestSrc
	
	achelJsonJsonToVar Local,jsonTest
	
	expect 1,~!Local,jsonTest,0,A!~
	expect 2,~!Local,jsonTest,0,B!~
	expect 0,~!Local,jsonTest,0,nul!~
	
	debug 1,out=~!Local,jsonTest!~=


